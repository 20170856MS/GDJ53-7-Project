<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.app.home.report.ReportMapper">
	<!-- ============== 김도영 ================ -->
	
	
	
	<!-- ==================================== -->
	
	<!-- ============== 한종석 ================ -->
	<!-- 권한수정 누구를 부장(lstatus = 2)로 바꿀것인지 ****id를 받아서 -->
	<update id="setLstatusUpdate" parameterType="ReportVO">
		UPDATE REPORTLICENCES SET LSTATUS = 2 WHERE ID = #{id}
	</update>
	
	
	<!-- ==================================== -->
	
	<!-- ============== 장민석 ================ -->
	
	
	
	<!-- ==================================== -->
	
	
	<!-- ============== 최근호 ================ -->
	
	
	
	<!-- ==================================== -->
	
	<!-- ============== 류형민 ================ -->
	<!-- 휴가 신청 목록 가져오기 -->
	<select id="getMyVacaList" parameterType="UserVO" resultType="ReportVacaVO">
		SELECT r.*,r2.*
		FROM REPORTAPPLY r
		INNER JOIN REPORTVACA r2 ON r.APPLYNUM = r2.APPLYNUM 
		where r.id = #{id};
	</select>
	
	<!-- 시말서 목록 가져오기 -->
	<select id="getMySorryList" parameterType="UserVO" resultType="ReportSorryVO">
		SELECT r.*,r2.*
		FROM REPORTAPPLY r
		INNER JOIN REPORTSORRY r2 ON r.APPLYNUM = r2.APPLYNUM 
		where r.id = #{id};
	</select>
	
	<!-- 업무보고서 목록 가져오기 -->
	<select id="getMyWorkList" parameterType="UserVO" resultType="ReportWorkVO">
		SELECT r.*,r2.*
		FROM REPORTAPPLY r
		INNER JOIN REPORTWORK r2 ON r.APPLYNUM = r2.APPLYNUM 
		where r.id = #{id};
	</select>
	
	<!-- 지출결의서 목록 가져오기 -->
	<select id="getMyPayList" parameterType="UserVO" resultType="ReportPayVO">
		SELECT r.*,r2.*
		FROM REPORTAPPLY r
		INNER JOIN REPORTPAY r2 ON r.APPLYNUM = r2.APPLYNUM 
		where r.id = #{id};
	</select>
	
	<!-- ==================================== -->
	
</mapper>